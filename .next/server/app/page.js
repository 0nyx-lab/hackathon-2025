(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4990:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(5480),s(2029),s(5866);var r=s(3191),a=s(8716),n=s(7922),i=s.n(n),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5480)),"C:\\AI\\workspaces\\cursor-aidd-sandbox\\hackathon-2025\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"C:\\AI\\workspaces\\cursor-aidd-sandbox\\hackathon-2025\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\AI\\workspaces\\cursor-aidd-sandbox\\hackathon-2025\\src\\app\\page.tsx"],m="/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8637:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},4975:()=>{},5336:(e,t,s)=>{Promise.resolve().then(s.bind(s,9910))},9910:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(326),a=s(7577);let n=(0,a.memo)(function({task:e,onSelect:t,onComplete:s}){let[n,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(e.estimated_seconds||60),d=(0,a.useMemo)(()=>({学習:"bg-blue-500",仕事:"bg-green-500",生活:"bg-orange-500",健康:"bg-red-500"}),[]),c=(0,a.useMemo)(()=>({学習:"\uD83D\uDCDA",仕事:"\uD83D\uDCBC",生活:"\uD83C\uDFE0",健康:"\uD83D\uDCAA"}),[]),m=(0,a.useCallback)(()=>{i(!0),l(e.estimated_seconds||60),t(e)},[e,t]),x=(0,a.useCallback)(()=>{let t=(e.estimated_seconds||60)-o;s(e.id,t,{completed:!0,confidence:"high"}),i(!1)},[e.id,e.estimated_seconds,o,s]),u=(0,a.useCallback)(()=>{s(e.id,0,{completed:!1,reason:"skipped"}),i(!1)},[e.id,s]),h=(0,a.useMemo)(()=>{let t=e.estimated_seconds||60;return(t-o)/t*100},[e.estimated_seconds,o]),g=(0,a.useMemo)(()=>{let e=Math.floor(o/60),t=o%60;return`${e}:${t.toString().padStart(2,"0")}`},[o]);return(0,r.jsxs)("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden transition-all duration-300 hover:shadow-md ${n?"ring-2 ring-blue-500":""}`,children:[r.jsx("div",{className:`${d[e.category]||"bg-gray-500"} px-4 py-3`,children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-white text-lg",children:c[e.category]||"\uD83D\uDCDD"}),r.jsx("span",{className:"text-white font-medium",children:e.category})]}),(0,r.jsxs)("div",{className:"text-white text-sm",children:[e.estimated_seconds,"秒"]})]})}),(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:e.title}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),n?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:g}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-1000",style:{width:`${h}%`}})})]}),e.content&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:r.jsx("div",{className:"text-lg font-medium text-gray-800",children:e.content})}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:x,className:"flex-1 bg-green-500 text-white py-3 rounded-lg font-medium hover:bg-green-600 transition-colors",children:"完了"}),r.jsx("button",{onClick:u,className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-400 transition-colors",children:"スキップ"})]})]}):r.jsx("button",{onClick:m,className:"w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"やってみる"})]})]})});class i extends a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?this.props.fallback||r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"予期しないエラーが発生しました"}),r.jsx("p",{className:"text-gray-600 mb-4",children:this.state.error?.message||"アプリケーションでエラーが発生しました"}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:"再読み込み"})]})}):this.props.children}}let o=(0,a.memo)(function({message:e="読み込み中...",size:t="md",className:s=""}){return(0,r.jsxs)("div",{className:`flex flex-col items-center justify-center ${s}`,children:[r.jsx("div",{className:`animate-spin rounded-full border-b-2 border-indigo-600 ${{sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"}[t]}`}),e&&r.jsx("p",{className:"mt-4 text-gray-600",children:e})]})}),l=(0,a.memo)(function({error:e,onRetry:t,className:s=""}){let n=(0,a.useCallback)(()=>{t&&t()},[t]);return(0,r.jsxs)("div",{className:`text-center ${s}`,children:[r.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"エラーが発生しました"}),r.jsx("p",{className:"text-gray-600 mb-4",children:e}),t&&r.jsx("button",{onClick:n,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:"再試行"})]})});function d(){let{task:e,loading:t,error:s,fetchTodayTask:d,handleTaskSelect:c,handleTaskComplete:m}=function(){let[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(null),o=(0,a.useCallback)(async()=>{try{r(!0),i(null);let e=await fetch("/api/today");if(!e.ok)throw Error("API request failed");let s=await e.json();if(s.task){let e={...s.task,estimated_seconds:60*s.task.estimatedTime||s.task.estimated_seconds||60};t(e)}}catch(e){i(e instanceof Error?e.message:"Unknown error")}finally{r(!1)}},[]),l=(0,a.useCallback)(e=>{console.log("Task selected:",e)},[]),d=(0,a.useCallback)(async(e,t,s)=>{try{(await fetch("/api/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:e,duration_seconds:t,result:s,timestamp:new Date().toISOString()})})).ok&&await o()}catch(e){console.error("Task submission failed:",e),i("タスクの送信に失敗しました")}},[o]);return{task:e,loading:s,error:n,fetchTodayTask:o,handleTaskSelect:l,handleTaskComplete:d}}();return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:r.jsx(o,{message:"今日のタスクを準備中..."})}):s?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center",children:r.jsx(l,{error:s,onRetry:d})}):r.jsx(i,{children:r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("header",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"\uD83D\uDE80 Steppy"}),r.jsx("p",{className:"text-lg text-gray-600",children:"1分で始める、人生の成長習慣"})]}),e&&r.jsx("div",{className:"max-w-lg mx-auto",children:r.jsx(n,{task:e,onSelect:c,onComplete:m})}),r.jsx("footer",{className:"text-center mt-12 text-gray-500",children:r.jsx("p",{children:"Engineer Guild Hackathon 2025"})})]})})})}},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>i});var r=s(9510),a=s(5384),n=s.n(a);s(5023);let i={title:"Steppy - 1分で始める、人生の成長習慣",description:"学習・仕事・生活・健康すべての成長を「今日の1分」で統合支援するプラットフォーム",viewport:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"};function o({children:e}){return r.jsx("html",{lang:"ja",children:r.jsx("body",{className:n().className,children:e})})}},5480:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\AI\workspaces\cursor-aidd-sandbox\hackathon-2025\src\app\page.tsx#default`)},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,349],()=>s(4990));module.exports=r})();
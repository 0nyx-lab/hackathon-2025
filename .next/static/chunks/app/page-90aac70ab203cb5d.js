(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{238:function(e,t,s){Promise.resolve().then(s.bind(s,6117))},6117:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var r=s(7437),n=s(2265);function a(){let[e,t]=(0,n.useState)(null),[s,a]=(0,n.useState)(!0),[l,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{d()},[]);let d=async()=>{try{a(!0);let e=await fetch("/api/today?user_id=demo_user_001");if(!e.ok)throw Error("API request failed");let s=await e.json();t(s)}catch(e){c(e instanceof Error?e.message:"Unknown error")}finally{a(!1)}},o=async(e,t)=>{try{(await fetch("/api/submit?user_id=demo_user_001",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:e,duration_seconds:60,result:{completed:t,confidence:t?"high":"low"},timestamp:new Date().toISOString()})})).ok&&d()}catch(e){console.error("Task submission failed:",e)}};return s?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"今日のタスクを準備中..."})]})}):l?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"エラーが発生しました"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:l}),(0,r.jsx)("button",{onClick:d,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:"再試行"})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("header",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"\uD83D\uDE80 Steppy"}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"1分で始める、人生の成長習慣"})]}),(null==e?void 0:e.recommendations)&&(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:["今日の推薦: ",e.recommendations.primary]}),(0,r.jsx)("p",{className:"text-gray-600",children:e.recommendations.balance_suggestion})]})}),(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:null==e?void 0:e.cards.map(e=>(0,r.jsx)(i,{task:e,onSubmit:o},e.id))}),(0,r.jsx)("footer",{className:"text-center mt-12 text-gray-500",children:(0,r.jsx)("p",{children:"Engineer Guild Hackathon 2025"})})]})})}function i(e){let{task:t,onSubmit:s}=e,[a,i]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),d=async()=>{c(!0);try{await s(t.id,!0),i(!0)}catch(e){console.error("Task completion failed:",e)}finally{c(!1)}};return a?(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-2 border-green-200",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-green-500 text-4xl mb-4",children:"✅"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:t.title}),(0,r.jsx)("p",{className:"text-green-600 font-medium",children:"完了しました！"})]})}):(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"学習":return"bg-blue-100 text-blue-800";case"仕事":return"bg-green-100 text-green-800";case"健康":return"bg-red-100 text-red-800";case"生活":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}})(t.category)),children:t.category}),(0,r.jsx)("span",{className:"text-sm font-medium ".concat((e=>{switch(e){case"easy":return"text-green-600";case"medium":return"text-yellow-600";case"hard":return"text-red-600";default:return"text-gray-600"}})(t.difficulty)),children:"easy"===t.difficulty?"簡単":"medium"===t.difficulty?"普通":"難しい"})]}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:t.title}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:t.description}),t.content&&(0,r.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,r.jsx)("strong",{children:"内容:"})," ",t.content]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:["⏱️ ",t.estimated_seconds,"秒"]}),(0,r.jsx)("button",{onClick:d,disabled:l,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"完了中...":"完了する"})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=238)}),_N_E=e.O()}]);
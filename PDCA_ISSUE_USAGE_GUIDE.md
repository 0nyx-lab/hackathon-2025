# PDCA × Issue運用ガイド

## 🎯 概要

このガイドは、PDCAサイクルとGitHub Issueを統合した開発運用システムの使用方法を説明します。

## 📋 基本フロー

```
Issue作成 → Plan → Do → Check → Act → Issue更新 → 知識蓄積
    ↓         ↓     ↓      ↓      ↓        ↓         ↓
 統括役    SubChat 実装   検証   改善   完了報告   knowledge.mdc
```

## 🚀 使い方

### 1. Issue作成
**GitHubリポジトリで新規Issue作成時、テンプレートを選択:**

- **PDCA開発**: 通常の開発作業用
- **🚨 緊急修復**: 緊急時の問題修復用

### 2. Plan（計画）フェーズ
**統括役の作業:**
- ✅ Issue本文の目的・成功基準を明確化
- ✅ 前提条件・制約事項・依存関係を記載
- ✅ SubChat起動指示をIssue本文に埋め込み
- ✅ 着手条件(DoR)をチェックリスト化

### 3. Do（実行）フェーズ
**SubChat/ClaudeCodeの作業:**
- ✅ Issue本文の指示に従って実装
- ✅ 段階ごとにコメントで進捗報告
- ✅ ログ・出力・スクリーンショットを共有
- ✅ 危険操作は事前確認

### 4. Check（検証）フェーズ
**統括役の作業:**
- ✅ 成功基準の検証（ビルド・型チェック・動作確認）
- ✅ 回帰テスト・副作用確認
- ✅ 検証結果をIssueコメントに記録

### 5. Act（改善）フェーズ
**統括役の作業:**
- ✅ 是正措置・追補作業の実行
- ✅ `knowledge.mdc`への知識蓄積
- ✅ 必要に応じて派生Issue作成
- ✅ DoD充足確認後Issueクローズ

## 📝 テンプレート詳細

### PDCA開発テンプレート
**ファイル**: `.github/ISSUE_TEMPLATE/pdca-development.md`

**主要セクション:**
- 🎯 目的 / 成功基準
- 📋 Plan（前提/制約/DoR）
- 🛠️ Do（実装/証跡）
- ✅ Check（検証/結果）
- 🔄 Act（是正/定着/DoD）
- 📝 SubChat起動指示

### 緊急修復テンプレート
**ファイル**: `.github/ISSUE_TEMPLATE/emergency-fix.md`

**主要セクション:**
- 🚨 緊急度 / 影響範囲
- 📊 問題の詳細
- 🎯 修復目標
- 🛠️ 修復計画
- ✅ 検証手順
- 🔄 事後対応

## 🔧 運用ルール

### 基本ルール
1. **Issue = 唯一の窓口**: やり取り・指示・成果・検証・判断を集中管理
2. **SubChat自律クローズ許可**: 矛盾/連結はReopenし統括役が裁定
3. **知識蓄積必須**: Issue完了時に`knowledge.mdc`へ保存
4. **事実主義**: 計測値・ログ・ビルド結果のみに基づく判断
5. **危険操作要確認**: 削除・上書き等の事前確認必須

### 成功基準（標準化済み）
- [ ] ビルド成功 (`npm run build`)
- [ ] 型チェック通過 (`npm run type-check`)
- [ ] 動作確認完了
- [ ] ローカルホストで動作 (`http://localhost:8080`)

### 技術制約（ローカル優先）
- ローカルホスト動作必須
- TypeScript型エラー0件
- 既存機能破壊禁止
- API依存なし（ローカルストレージ使用）

## 📊 報告形式

### SubChat進捗報告
```
## 段階X: [作業名]
- 実施内容:
- 結果:
- 次のステップ:
```

### 検証結果報告
```
## 検証結果
- `npm run build`: ✅ 成功 / ❌ 失敗
- `npm run type-check`: ✅ 0件 / ❌ N件
- ローカル動作: ✅ 正常 / ❌ 異常
- 既存機能: ✅ 影響なし / ❌ 影響あり
```

### 知識蓄積形式
```
### [日付] [作業名]成功/失敗パターン
**問題/課題**:
**解決策/成功要因**:
**再現手順**:
**是正措置**:
**次回対策**:
```

## 🎯 成功パターン（実証済み）

### PDCA-009: ClaudeCodeリファクタリング
- **成功要因**: 5段階での段階的実施・型エラー0・ビルド成功
- **学習効果**: 統括役指揮・ClaudeCode実行の協調パターン確立

### PDCA-010: ハッカソン最終調整
- **成功要因**: ローカル優先・ガイド整備・代替手段準備
- **学習効果**: 実機稼働確保の重要性・多経路対応の必要性

### PDCA-011: 緊急Vercel修復
- **成功要因**: 原因特定・多経路確保・緊急時手順確立
- **学習効果**: 緊急対応の体系化・代替手段の重要性

### PDCA-012: 機能拡張
- **成功要因**: ローカル完結・UI統合・ユーザー体験向上
- **学習効果**: 段階的機能追加・ローカルストレージ活用

## ⚠️ 失敗パターンと再発防止

### フォルダ誤実行404
- **原因**: `out`提供時のcwd誤り
- **対策**: ガイド/スクリプトで`cd hackathon-2025`明記

### 大容量ファイル誤push
- **原因**: `.gitignore`未更新
- **対策**: コミット前チェックリスト化

### SubChat自己認識ミス
- **原因**: 「統括役として」指示での自己認識エラー
- **対策**: 統括役代行で知識蓄積/Issue操作

### ルーレット切替
- **原因**: 自動タスク生成の連続実行
- **対策**: 自動生成停止・手動切替に変更

### タイマー停止
- **原因**: setIntervalベースの時間計測
- **対策**: 開始時刻基準の時間計算に変更

## 🚀 次の磨き込み

### 低コストで実効性高
- **DoR/DoDチェックリスト化**: Issueテンプレート強化
- **最小CI**: type-checkとbuildを`gh`チェックに紐付け
- **自動ナレッジ起票**: Issueクローズ時に`knowledge.mdc`追記テンプレ提示
- **ラベル整備**: PDCA段階/緊急/要検証/要知識化
- **運用ガード**: `start-demo.*`とREADMEに「必ず`cd hackathon-2025`」を強調

### 継続改善
- **使用するたびに改善される仕組み**の活用
- **成功パターンの標準化**とテンプレート化
- **失敗パターンの予防**と再発防止強化
- **知識蓄積の自動化**と効率化

## 📞 サポート

### 問題発生時
1. **Issue作成**: 問題をIssue化
2. **緊急度判定**: 🔴最優先 / 🟡高 / 🟢中
3. **SubChat起動**: 緊急修復テンプレート使用
4. **進捗報告**: 30分ごとに報告

### 学習・改善時
1. **知識蓄積**: `knowledge.mdc`への記録
2. **テンプレート更新**: 成功パターンの反映
3. **運用ルール更新**: 失敗パターンの対策追加
4. **継続改善**: PDCAサイクルの継続実行

---

**このガイドは、使用するたびに改善されます。**
**成功パターン・失敗パターンを継続的に蓄積し、**
**より効率的で確実な開発運用を実現します。**